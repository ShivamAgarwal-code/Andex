import{j as d,a as s}from"./jsx-runtime-a888423b.js";import{d as q}from"./debounce-2c70bf35.js";import{r as a}from"./index-8db94870.js";import{u as $}from"./usePopper-eec57ba6.js";import{M as j}from"./context-f318d187.js";import{S as K,L as F,a as z,D as l,b as M,c as B}from"./types-39d68135.js";import{u as U}from"./useOnClickOutside-00feb151.js";import{B as E}from"./Box-f877d5fa.js";import{F as L}from"./Flex-e70cc8d9.js";import{L as X}from"./Logout-23af5ec0.js";const v=({children:y,isBottomNav:n=!1,showItemsOnMobile:S=!1,activeItem:_="",items:x=[],index:p,setMenuOpenByIndex:m,isDisabled:f,...g})=>{const{linkComponent:C}=a.useContext(j),[A,o]=a.useState(!1),[i,N]=a.useState(null),[u,O]=a.useState(null),R=x.length>0,{styles:T,attributes:V}=$(i,u,{strategy:n?"absolute":"fixed",placement:n?"top":"bottom-start",modifiers:[{name:"offset",options:{offset:[0,n?6:0]}}]}),I=A&&(n&&S||!n);return a.useEffect(()=>{const t=()=>{o(!0),r.cancel()},r=q(()=>{o(!1)},n?100:10);return[i,u].forEach(e=>{e==null||e.addEventListener("mouseenter",t),e==null||e.addEventListener("mouseleave",r)}),()=>{[i,u].forEach(e=>{e==null||e.removeEventListener("mouseenter",t),e==null||e.removeEventListener("mouseleave",r)}),r.cancel()}},[o,u,i,n]),a.useEffect(()=>{m&&p!==void 0&&m(t=>({...t,[p]:I}))},[I,m,p]),U(i,a.useCallback(()=>{o(!1)},[o])),d(E,{ref:N,...g,children:[s(E,{onPointerDown:()=>{o(t=>!t)},children:y}),R&&s(K,{style:T.popper,ref:O,...V.popper,$isBottomNav:n,$isOpen:I,children:x.filter(t=>!t.isMobileOnly).map(({type:t=l.INTERNAL_LINK,label:r,href:e="/",status:b,disabled:c,...h},k)=>{const w=d(L,{alignItems:"center",children:[r,b&&s(F,{textTransform:"uppercase",color:b.color,fontSize:"14px",children:b.text})]}),D=e===_;return d(z,{children:[t===l.BUTTON&&s(M,{$isActive:D,disabled:c||f,type:"button",...h,children:w}),t===l.INTERNAL_LINK&&s(M,{$isActive:D,disabled:c||f,as:C,href:e,onClick:()=>{o(!1)},...h,children:w}),t===l.EXTERNAL_LINK&&s(M,{$isActive:D,disabled:c||f,as:"a",href:e,target:"_blank",onClick:()=>{o(!1)},...h,children:d(L,{alignItems:"center",justifyContent:"space-between",width:"100%",children:[w,s(X,{color:c?"textDisabled":"textSubtle"})]})}),t===l.DIVIDER&&s(B,{})]},k)})})]})},ne=v;try{v.displayName="DropdownMenu",v.__docgenInfo={description:"",displayName:"DropdownMenu",props:{items:{defaultValue:{value:"[]"},description:"",name:"items",required:!1,type:{name:"DropdownMenuItems[]"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},activeItem:{defaultValue:{value:""},description:"",name:"activeItem",required:!1,type:{name:"string"}},isBottomNav:{defaultValue:{value:"false"},description:"As BottomNav styles",name:"isBottomNav",required:!1,type:{name:"boolean"}},showItemsOnMobile:{defaultValue:{value:"false"},description:"Show items on mobile when `isBottomNav` is true",name:"showItemsOnMobile",required:!1,type:{name:"boolean"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},setMenuOpenByIndex:{defaultValue:null,description:"",name:"setMenuOpenByIndex",required:!1,type:{name:"Dispatch<SetStateAction<Record<number, boolean>>>"}}}}}catch{}export{ne as D};
